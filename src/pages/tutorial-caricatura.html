<div class="tutorial-page py-5">
    <div class="container">
        <!-- Header -->
        <div class="text-center mb-5">
            <span class="badge bg-primary bg-opacity-10 text-primary mb-3 px-3 py-2 rounded-pill">
                <i class="bi bi-star-fill me-2"></i> Tutorial Gratuito
            </span>
            <h1 class="display-4 fw-bold text-gradient mb-3">Como Criar Vídeos Animados com sua Caricatura</h1>
            <p class="lead text-muted mx-auto" style="max-width: 700px;">
                Descubra como usar o poder das IAs gratuitas para dar vida às suas fotos em poucos segundos.
            </p>
        </div>

        <div class="row g-5">
            <!-- Tutorial Content -->
            <div class="col-lg-8">
                <div class="card bg-dark border-0 p-4 p-md-5 shadow-lg"
                    style="border-radius: 24px; background: linear-gradient(145deg, #1e1e2f, #131320) !important;">

                    <!-- Step 1 -->
                    <div class="step-item mb-5">
                        <div class="d-flex align-items-center mb-3">
                            <span class="step-number">1</span>
                            <h3 class="h4 fw-bold text-white ms-3 mb-0">Crie sua Caricatura com Gemini</h3>
                        </div>
                        <p class="text-muted">
                            Acesse o <a href="https://gemini.google.com/" target="_blank"
                                class="text-primary text-decoration-none fw-bold">Gemini <i
                                    class="bi bi-box-arrow-up-right small"></i></a> (recomendamos o modelo Nano Banana
                            para melhores resultados
                            rápidos). Faça o upload da sua foto original e utilize o seguinte prompt exato:
                        </p>
                        <div
                            class="bg-black bg-opacity-50 p-4 rounded-4 mb-3 border border-secondary border-opacity-25">
                            <code class="text-info fs-5">"Nano banana gere um caricatura da imagem anexada"</code>
                        </div>
                        <p class="text-muted">Aguarde alguns segundos e você terá uma caricatura estilizada pronta para
                            o próximo passo.</p>
                    </div>

                    <!-- Step 2 -->
                    <div class="step-item mb-5">
                        <div class="d-flex align-items-center mb-3">
                            <span class="step-number">2</span>
                            <h3 class="h4 fw-bold text-white ms-3 mb-0">Prepare para a Animação</h3>
                        </div>
                        <p class="text-muted">
                            Acesse o <a href="https://grok.com/" target="_blank"
                                class="text-primary text-decoration-none fw-bold">Grok Imagem <i
                                    class="bi bi-box-arrow-up-right small"></i></a> no seu navegador. É uma ferramenta
                            100% gratuita
                            e não exige criação de conta. Faça o upload da caricatura que você acabou de gerar.
                        </p>
                        <img src="/src/assets/images/caricatura-tutorial.png" alt="Exemplo de Caricatura"
                            class="img-fluid rounded-4 shadow-lg mb-3" style="max-height: 300px;">
                    </div>

                    <!-- Step 3 -->
                    <div class="step-item border-0 mb-0">
                        <div class="d-flex align-items-center mb-3">
                            <span class="step-number">3</span>
                            <h3 class="h4 fw-bold text-white ms-3 mb-0">Transforme em Vídeo</h3>
                        </div>
                        <p class="text-muted">
                            Digite o que você deseja que aconteça no vídeo (ex: "fazendo joinha", "sorrindo",
                            "piscando"). Em apenas <strong>5 a 10 segundos</strong>, sua caricatura será transformada em
                            um vídeo animado!
                        </p>
                        <div
                            class="alert alert-info bg-info bg-opacity-10 border-info border-opacity-25 text-info rounded-4">
                            <i class="bi bi-lightbulb-fill me-2"></i> <strong>Dica:</strong> Use sua imaginação para
                            criar diferentes movimentos e interações!
                        </div>
                    </div>

                </div>
            </div>

            <!-- PIX Support Sidebar -->
            <div class="col-lg-4">
                <div class="sticky-top" style="top: 100px;">
                    <div class="card border-0 shadow-lg text-center"
                        style="border-radius: 24px; background: linear-gradient(145deg, #1e1e2f, #131320) !important; border: 1px solid rgba(255,255,255,0.05) !important;">
                        <div class="card-body p-4">
                            <div class="bg-success bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-4"
                                style="width: 70px; height: 70px;">
                                <i class="bi bi-wallet2 fs-2 text-success"></i>
                            </div>
                            <h4 class="fw-bold text-white">Ajude-nos a Inovar!</h4>
                            <p class="text-muted small mb-4">
                                Gostou do tutorial? Sua contribuição via PIX nos ajuda a trazer novas ideias e conteúdos
                                gratuitos para todos.
                            </p>

                            <div class="pix-info bg-black bg-opacity-25 p-3 rounded-4 mb-4 text-start">
                                <div class="small text-muted mb-1 text-center">Chave PIX (E-mail):</div>
                                <div class="text-white fw-bold text-center">contato@mirandasoft.com.br</div>
                            </div>

                            <button class="btn btn-outline-success w-100 rounded-pill py-2" onclick="copyPixKey()">
                                <i class="bi bi-copy me-2"></i> Copiar Chave PIX
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .step-number {
        width: 40px;
        height: 40px;
        background: #6366f1;
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 1.2rem;
        flex-shrink: 0;
        box-shadow: 0 0 20px rgba(99, 102, 241, 0.4);
    }

    .step-item {
        position: relative;
        padding-left: 0;
    }

    .text-gradient {
        background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .shadow-inner {
        box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
    }
</style>

<script>
    function copyPixKey() {
        const key = 'contato@mirandasoft.com.br';
        navigator.clipboard.writeText(key).then(() => {
            if (window.core && window.core.toast) {
                window.core.toast('Chave PIX copiada com sucesso!', 'success');
            } else {
                alert('Chave PIX copiada!');
            }
        });
    }

    // Hide CTA Tutorial if we are on this page
    (function () {
        const cta = document.getElementById('cta-tutorial');
        if (cta) cta.style.display = 'none';

        // Cleanup display when leaving
        window.addEventListener('popstate', () => {
            if (window.location.pathname !== '/tutorial-caricatura') {
                if (cta) cta.style.display = '';
            }
        });

        // Initialize Animate on Scroll for this page
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target);
                }
            });
        }, observerOptions);

        document.querySelectorAll('.animate-on-scroll').forEach(el => {
            observer.observe(el);
        });
    })();
</script>